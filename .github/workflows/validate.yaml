name: validate

on: [push, pull_request]


jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          ref: ${{ github.sha }}
      - name: Setup nodejs
        uses: actions/setup-node@v1
        with:
          node-version: '16'
      - name: Install dependencies
        run: npm install
      - name: Test
        run: npm run test
        env:
          LOG_LEVEL: TRACE
          PORT: 3000
          JWT_PRIVATE_KEY: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJsd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFZRUFvcjFuSllnZEh2T0RveS81MlFMZCs0QXVpUnVqMkRkTEprWEprWkUrZldramZBWkVEU050ClVNTHhWdDczZ1V5RjAvcVB3MnU1bDAzMGdVTWdwb0pDcDBkcnBMWkp3OFlVTkVDU0dFUDlqS1NvRkhrVEJGemprZThQNXcKaUVENU05TE5oMjAxVEdhOFlFV3NiaWFwVlptOG4zNUhGSjRVSnM4eVJRWkgwcWZIMmpGUVVYbW5tTUwzUE93eGMwQUtURwpIVEpFWnFhYXg5ZnptS3RDcHVld2R6NnBod2s5VXJ1N1IvNHUxQit3TkZkc1pkTlRmQVJWdW94ZDNjK2xZeFVUNU1Lc0pFCjZGK3F1WURZdnhBRTdaMnJVbWFDWi8vdGZ2Q1JxL0puSDFuQjlmRHl5UCtUb0hGdWlzWGRjRVZ6c1d4dWtBTFd1cSt0UUwKV0xiaXFLMFUxUGorclF5RWNDeVhoTTljS3dvOC9XbWhPbjhSakcxOTJadGNSUWp3L3dFKzFVRWs4RFJ3VlNBdXo0azFRNQp6QVRoQjFIbkF3ZHVJS1cvd3M3UDJVT3dianBXb1ZPcTNqMUFoaWNXVlZNYVd0a3c5Wmh0SEhIYWM4OW1qN01JZ09UTHFTClA5S2JFSGNIaWJsL05wVEVpYlNyUXJqNVY4eWNOc0hVT3FORno1aTNBQUFGa0dxVnJGeHFsYXhjQUFBQUIzTnphQzF5YzIKRUFBQUdCQUtLOVp5V0lIUjd6ZzZNditka0MzZnVBTG9rYm85ZzNTeVpGeVpHUlBuMXBJM3dHUkEwamJWREM4VmJlOTRGTQpoZFA2ajhOcnVaZE45SUZESUthQ1FxZEhhNlMyU2NQR0ZEUkFraGhEL1l5a3FCUjVFd1JjNDVIdkQrY0loQStUUFN6WWR0Ck5VeG12R0JGckc0bXFWV1p2SjkrUnhTZUZDYlBNa1VHUjlLbng5b3hVRkY1cDVqQzl6enNNWE5BQ2t4aDB5UkdhbW1zZlgKODVpclFxYm5zSGMrcVljSlBWSzd1MGYrTHRRZnNEUlhiR1hUVTN3RVZicU1YZDNQcFdNVkUrVENyQ1JPaGZxcm1BMkw4UQpCTzJkcTFKbWdtZi83WDd3a2F2eVp4OVp3Zlh3OHNqL2s2Qnhib3JGM1hCRmM3RnNicEFDMXJxdnJVQzFpMjRxaXRGTlQ0Ci9xME1oSEFzbDRUUFhDc0tQUDFwb1RwL0VZeHRmZG1iWEVVSThQOEJQdFZCSlBBMGNGVWdMcytKTlVPY3dFNFFkUjV3TUgKYmlDbHY4TE96OWxEc0c0NlZxRlRxdDQ5UUlZbkZsVlRHbHJaTVBXWWJSeHgyblBQWm8rekNJRGt5NmtqL1NteEIzQjRtNQpmemFVeEltMHEwSzQrVmZNbkRiQjFEcWpSYytZdHdBQUFBTUJBQUVBQUFHQVB3dzkzODZCNmJIUjkvRG9UT2pOYzFoUHJ4CktrUVduNmxWTklLanNwQ0pFcERDMnBRNlhML2hQb1NBMk51ZXdabE94bnNnQVVJTWcweDdkbitOcFNWRmhaSGJENWx2MHcKYXFYeGM3RXprNzllMXIrcFhIRllRUHRySDhpdTBSSHNDMm01YjFwU25RSlVRWTczdk84cmppMksrbGZobFlHVWtBWXJseQpMZXlPZ3J2RU1DeC9mN0ZZODZOVjdSNk1YdGN2WThoY0JhQ3I1aFEyNW1IaDk0d0Zub2Q4WmVtYVRkZzZDNEo3bzNHN0FhCjhNQVVnZUYwRFJmQWJlUzZZRTZUams5QlY5MHpyS0NFYUpSc3pIUklXZHFJeDh6SjdIVGdQemNkUEt5WS9FcGozMU80SkYKM3RmK21jL0QzNkV0WGVBYXV0bjVabDhZMU1GWXQ5Y2g0MGQ0R3BSNGViRjRrNmNGWDNiMzN5VytJMEdNcnpubTdGUE1KMwpMMHRpd2JlcFlxYmJuQ3RPMmxOVzFkY3pGRnk4OW5TZFR3amFVM1RXaWlGLzhoNWZwZitIcitZcXJPU0pQMDNNRTFnUkIwCkZGV2xJVHVPNU1YVG1mRE9BZUFPU2w4Mk5md1lyY3BDdzlCWUFzTko1WlFJTmJoYStZcEdzbEFkdDRzUnNYOWM2eEFBQUEKd0FWRDB1Q29yQkJpYkE3SUFsN29zWVl6WFpNY2IrcWxnQjltMFZkT2hzekJQeTh1clROb0tJOEp5N0pzQ3R0MmV1SkVMbAp2Zk5Gd1hQOVhBbXIzQzk0M1dKbytBSXljTE16T1pFdFE5QUFaenFXcXd4ZVUxc0FhalByaXNNQUR1TVpRUktnWTE4SFNsCmhPSlRwYjQxWEJBWUpGZGFMWExLWWhhUVkxLzRndGgyK1g2WHgyZ01raW5rY3JjczBHSnpDWTdQclJlZ1RFZW81RURheVkKanBWeGprWEd6RkVMZnJwcGE4Nkd5RkxPYTdFQ0RBNGVvanN2Um9VNnl2VTJyVmlRQUFBTUVBekwvd0k4eGpXb3h5T0JjdgpvZ25aaEdCS2lzc2lwQzlrWHhpemU0YkRDR3Z0V25OVkwyTTJpVnU4U0ZsT3JrYUhyb2xXUGtuejNQUm8yUklKRXJFWjhBCnRRTElncHBCaEpQaWpadW9iQlhtQVAvNFRqVkdrYTEvRE1GVlNaVTZkZXhpZEw5S0Z3eCswaVdtQTZ4VVJyTVpxVUFESkYKQjFNa0xaV0VLQzNDS0hEWDQyRkZNdGdtMktWOFQrZ2tVNW9KTUN1SktoVjFxRVN3RWxaVFl3bXJjeDBvOGUrcG1hMEc4ZApEa3kyUzF2a05FT2FhV3h2YkNrWmhPUlBkWXovTGxBQUFBd1FETGVZaEpYRW9YUnZiTUI4bWx1WkhKL2N4Zno3T21TbkZWCjNUZ055cDBhRnZCT3E2UzhsdmpuMGVUK2tzeXBHTmtsdE1vR1Vsdm90SHdEdGlsOE4yYlNqblBlZjhWVyticGQ5U01GcnYKWUc3SWVBSjN6emFSTjFhelE4QlJCcDdpUHo2bUFrSTBXQ1ZBdzVWRFF3ODdhOWR5YjBXMDZnV01aemh4V2dKZGsvYkJDUQpKWXJra3RQenRvTFRKUnJGM1RjWUJYMWZFeGpiNS9aRk45VG5Ebzkwb2g1WEUyRHl2SzVjaDVIMkh6Tm9DcDUxcSthclZiCm1TY2FFWXMzb2dsMnNBQUFBYWFuQnRZWEp4ZFdWek5qWkFTbTloYjNNdFRVSlFMa2h2YldVQgotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K
          JWT_REFRESH_TOKEN_EXPIRATION: 2592000
          JWT_ACCESS_TOKEN_EXPIRATION: 1800
          MONGO_DB_DATABASE: friency




